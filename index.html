<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Core Decisioning & Integrations Infographic</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&display=swap" rel="stylesheet">
    <!-- Chosen Palette: Energetic & Playful -->
    <!-- Application Structure Plan: The infographic is structured as a single, scrollable page with a clear narrative flow. It begins with a bold header and an overview section featuring 'big number' statistics to immediately convey the scope. A central doughnut chart provides a visual breakdown of capability distribution. The main body uses a responsive grid of styled cards, where each card details a primary capability category. This structure was chosen to first present a high-level summary for quick understanding, and then allow users to seamlessly drill down into specific areas of interest in any order they choose, making complex information digestible. -->
    <!-- Visualization & Content Choices: 
        - Big Numbers (Total Categories & Capabilities): Goal: Inform. Method: Large, bold text. Justification: Provides an immediate, high-impact summary of the data's scale. NO SVG.
        - Capability Distribution: Goal: Compare composition. Viz: Doughnut Chart (Chart.js/Canvas). Justification: Effectively shows the proportion of sub-capabilities within each main category, highlighting areas of complexity at a glance. It's visually engaging and central to the narrative. Adheres to NO SVG constraint.
        - Detailed Breakdowns (Category Cards): Goal: Organize/Inform. Method: Styled HTML/CSS cards with nested lists (Tailwind). Justification: For hierarchical, qualitative data, a clean, structured text format is clearer than a complex chart. Cards provide a modular and scannable way to present details for each category. Unicode icons are used for notes. NO SVG/Mermaid. -->
    <!-- CONFIRMATION: NO SVG graphics used. NO Mermaid JS used. -->
    <style>
        body {
            font-family: 'Inter', sans-serif;
            background-color: #f0f4f8; /* Light gray-blue background */
        }
        .gradient-text {
            background: linear-gradient(90deg, #ef5675, #7a5195);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }
        .card {
            background-color: #ffffff;
            border-radius: 0.75rem;
            box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -2px rgba(0, 0, 0, 0.1);
            transition: transform 0.2s ease-in-out, box-shadow 0.2s ease-in-out;
            border: 1px solid #e5e7eb;
        }
        .card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -4px rgba(0, 0, 0, 0.1);
        }
        .chart-container {
            position: relative;
            width: 100%;
            max-width: 450px;
            margin-left: auto;
            margin-right: auto;
            height: 40vh;
            max-height: 450px;
        }
    </style>
</head>
<body class="text-gray-800">

    <div class="container mx-auto px-4 sm:px-6 lg:px-8 py-12">

        <header class="text-center mb-12">
            <h1 class="text-4xl md:text-5xl font-extrabold tracking-tight">
                <span class="gradient-text">Core Capabilities Landscape</span>
            </h1>
            <p class="mt-4 text-lg text-gray-600 max-w-3xl mx-auto">An infographic detailing the ecosystem of capabilities for decisioning, intelligence, and trust & safety operations.</p>
        </header>

        <section class="mb-16">
            <div class="grid grid-cols-1 md:grid-cols-3 gap-8 text-center">
                <div class="bg-white p-6 rounded-xl shadow-lg">
                    <p class="text-5xl font-bold text-[#ef5675]">9</p>
                    <p class="text-lg font-medium text-gray-700 mt-2">Primary Categories</p>
                </div>
                <div class="bg-white p-6 rounded-xl shadow-lg">
                    <p class="text-5xl font-bold text-[#7a5195]">20+</p>
                    <p class="text-lg font-medium text-gray-700 mt-2">Sub-Categories</p>
                </div>
                <div class="bg-white p-6 rounded-xl shadow-lg">
                    <p class="text-5xl font-bold text-[#ffa600]">40+</p>
                    <p class="text-lg font-medium text-gray-700 mt-2">Total Capabilities</p>
                </div>
            </div>
        </section>

        <section class="bg-white rounded-xl shadow-lg p-6 md:p-8 mb-16">
            <h2 class="text-2xl md:text-3xl font-bold text-center mb-2">Capability Distribution</h2>
            <p class="text-center text-gray-600 mb-8">A proportional view of sub-capabilities across the primary functional areas.</p>
            <div class="chart-container">
                <canvas id="capabilitiesChart"></canvas>
            </div>
        </section>

        <section>
            <div id="capabilities-grid" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8">
            </div>
        </section>

    </div>

    <script>
        const data = {
            "Core Decisioning and Integrations": {
                "Workflow and Policy Management": {
                    capabilities: ["Workflow and Policy Editor", "Feature Catalog", "Workflow and Policy Lifecycle Management", "Workflow and Policy Version Control", "Workflow and Policy Release Management"],
                    notes: ["The UI which is used for workflow definition and policy writing", "Capability to view and select available data and policy features as a part of policy creation/editing"]
                },
                "Decisioning Runtime": {
                    capabilities: ["Workflow Orchestration (Maestro and Temporal)", "Workflow Optimization (Translation of Logical workflow DAG to optimized Runtime DAG)", "Policy Execution (Rule Engine)"]
                },
                "Decision Acceleration Tools": {
                    capabilities: ["RuleX, Policy Drift etc."]
                },
                "Policy Experimentation": {
                    capabilities: ["Offline Policy Experimentation", "Online Policy Experimentation"],
                    notes: ["Also known as simulation with historic data", "Control group framework"]
                },
                "Vendor Integration Management": {
                    capabilities: ["Data enrichment, caching"]
                }
            },
            "Device Intelligence": {
                "Device Behavioral Biometrics": {},
                "Device Fingerprint": {},
                "Bot Detection": {}
            },
            "Operation and Investigation Management": {
                "Risk Operational and Investigation Tools": {
                    capabilities: ["Content Moderation Operational and Investigation Tools"]
                },
                "Customer Due Diligence": {
                    capabilities: ["Bank Document Verification & Validation", "Business License Verification & Validation", "GovID Verification & Validation", "Utility Bill Verification & Validation"]
                }
            },
            "Document Verification and Validation": {
                "Capabilities": {
                    capabilities: ["List Management (Neli)", "Link Analysis (Graph)", "Trust Level Management (CTDL, HERMES)"]
                }
            },
            "Trust Intelligence": {
                "Restriction & Immunity Management": {}
            },
            "Content Intelligence": {
                "User and Machine Generated Content Moderation": {
                    notes: ["OICS as a shared capability for all other MOs and business domains/capabilities"]
                },
                "Fraud Warehouse": {
                    capabilities: ["F360"]
                }
            },
            "Trust & Safety Data and Analytics": {
                "User Journey Risk Analysis": {
                    capabilities: ["Chronos"]
                }
            },
            "Continuous Entity Screening": {
                "Screening": {
                    notes: ["Shared capability to support NECS and decentralized continuous screening"]
                }
            }
        };

        document.addEventListener('DOMContentLoaded', () => {
            const grid = document.getElementById('capabilities-grid');
            const chartLabels = [];
            const chartData = [];
            const chartColors = ['#003f5c', '#7a5195', '#ef5675', '#ff764a', '#ffa600', '#374c80', '#bc5090', '#009a9c', '#665191'];
            
            let colorIndex = 0;
            for (const category in data) {
                let subCapabilityCount = 0;
                let cardHtml = `<div class="card flex flex-col p-6">
                                <h3 class="text-xl font-bold mb-4" style="color: ${chartColors[colorIndex % chartColors.length]};">${category}</h3>
                                <div class="space-y-4 flex-grow">`;

                const subCategories = data[category];
                for (const subCategory in subCategories) {
                    if (subCategory !== "Capabilities" && subCategory !== "Screening" && subCategory !== "User and Machine Generated Content Moderation"){
                        cardHtml += `<div class="text-sm">
                                        <p class="font-semibold text-gray-700">${subCategory}</p>`;
                    } else {
                         cardHtml += `<div class="text-sm">`;
                    }

                    const details = subCategories[subCategory];
                    if (details.capabilities && details.capabilities.length > 0) {
                        subCapabilityCount += details.capabilities.length;
                        cardHtml += `<ul class="list-disc list-inside text-gray-600 mt-1 pl-2 space-y-1">`;
                        details.capabilities.forEach(cap => {
                            cardHtml += `<li>${cap}</li>`;
                        });
                        cardHtml += `</ul>`;
                    } else {
                        if (Object.keys(subCategories).length === 1 && subCategory !== "Capabilities") {
                             subCapabilityCount += 1; // Count the subcategory itself if no capabilities listed
                        } else if (Object.keys(subCategories).length > 1) {
                             subCapabilityCount += 1;
                        }
                    }

                    if (details.notes && details.notes.length > 0) {
                        cardHtml += `<div class="mt-2 text-xs bg-yellow-50 border border-yellow-200 text-yellow-800 rounded p-2">`;
                        details.notes.forEach(note => {
                            cardHtml += `<p><span class="font-bold">📄 Note:</span> ${note}</p>`;
                        });
                        cardHtml += `</div>`;
                    }
                     cardHtml += `</div>`;
                }
                cardHtml += `</div></div>`;
                grid.innerHTML += cardHtml;
                
                chartLabels.push(category.replace(' and ', ' & '));
                chartData.push(subCapabilityCount || 1);
                colorIndex++;
            }

            const processLabel = (label) => {
                if (label.length > 16) {
                    const words = label.split(' ');
                    const lines = [];
                    let currentLine = '';
                    words.forEach(word => {
                        if ((currentLine + word).length > 16) {
                            lines.push(currentLine.trim());
                            currentLine = '';
                        }
                        currentLine += word + ' ';
                    });
                    lines.push(currentLine.trim());
                    return lines;
                }
                return label;
            };

            const processedLabels = chartLabels.map(processLabel);

            const ctx = document.getElementById('capabilitiesChart').getContext('2d');
            const capabilitiesChart = new Chart(ctx, {
                type: 'doughnut',
                data: {
                    labels: processedLabels,
                    datasets: [{
                        label: 'Sub-Capabilities',
                        data: chartData,
                        backgroundColor: chartColors,
                        borderColor: '#ffffff',
                        borderWidth: 2,
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: {
                        legend: {
                            position: 'bottom',
                            labels: {
                                font: {
                                    size: 12,
                                    family: "'Inter', sans-serif"
                                },
                                boxWidth: 15,
                                padding: 15
                            }
                        },
                        tooltip: {
                            callbacks: {
                                title: function(tooltipItems) {
                                    const item = tooltipItems[0];
                                    let label = item.chart.data.labels[item.dataIndex];
                                    if (Array.isArray(label)) {
                                      return label.join(' ');
                                    } else {
                                      return label;
                                    }
                                }
                            },
                            backgroundColor: '#333',
                            titleFont: { size: 14, weight: 'bold'},
                            bodyFont: { size: 12 },
                            padding: 10,
                            cornerRadius: 4
                        }
                    }
                }
            });
        });
    </script>
</body>
</html>
